```
gotoobject grey_box_1 room_2
pick grey_box_1 room_2
gotodoor blue_door_2 room_2 room_4
gotoempty
drop grey_box_1 room_2
gotodoor red_door_1 room_2 room_1
toggle red_door_1
gotoroom room_2 room_1 red_door_1
gotoobject red_ball_1 room_1
pick red_ball_1 room_1
gotodoor red_door_1 room_1 room_2
gotoroom room_1 room_2 red_door_1
drop red_ball_1 room_2
gotodoor red_door_1 room_2 room_1
gotoroom room_2 room_1 red_door_1
gotoobject red_ball_2 room_1
pick red_ball_2 room_1
gotodoor blue_door_1 room_1 room_3
toggle blue_door_1
gotoroom room_1 room_3 blue_door_1
drop red_ball_2 room_3
gotoobject purple_ball_1 room_3
pick purple_ball_1 room_3
gotodoor blue_door_1 room_3 room_1
gotoroom room_3 room_1 blue_door_1
drop purple_ball_1 room_1
gotodoor red_door_1 room_1 room_2
gotoroom room_1 room_2 red_door_1
gotoobject yellow_ball_1 room_2
pick yellow_ball_1 room_2
gotodoor red_door_1 room_2 room_1
gotoroom room_2 room_1 red_door_1
gotodoor blue_door_1 room_1 room_3
gotoroom room_1 room_3 blue_door_1
drop yellow_ball_1 room_3
gotodoor purple_door_1 room_3 room_4
toggle purple_door_1
gotoroom room_3 room_4 purple_door_1
gotodoor purple_door_1 room_4 room_3
```