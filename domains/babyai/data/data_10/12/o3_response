```
gotoobject red_door_1 room_3
toggle red_door_1
gotoobject grey_ball_1 room_3
pick grey_ball_1 room_3
gotoobject red_door_1 room_3
gotoroom room_3 room_1 red_door_1
gotoobject green_door_1 room_1
toggle green_door_1
gotoempty
drop grey_ball_1 room_1
gotoobject grey_box_1 room_1
pick grey_box_1 room_1
gotoobject red_door_1 room_1
gotoroom room_1 room_3 red_door_1
drop grey_box_1 room_3
gotoobject grey_door_1 room_3
toggle grey_door_1
gotoobject red_door_1 room_3
gotoroom room_3 room_1 red_door_1
gotoobject yellow_ball_1 room_1
pick yellow_ball_1 room_1
gotoobject red_door_1 room_1
gotoroom room_1 room_3 red_door_1
gotoobject grey_door_1 room_3
gotoroom room_3 room_4 grey_door_1
drop yellow_ball_1 room_4
gotoobject grey_door_1 room_4
gotoroom room_4 room_3 grey_door_1
gotoobject green_ball_2 room_3
pick green_ball_2 room_3
gotoobject grey_door_1 room_3
gotoroom room_3 room_4 grey_door_1
gotoobject green_door_2 room_4
toggle green_door_2
gotoroom room_4 room_2 green_door_2
gotoobject green_ball_1 room_2
gotoempty
drop green_ball_2 room_2
gotoobject green_ball_1 room_2
pick green_ball_1 room_2
gotoobject green_door_1 room_2
gotoroom room_2 room_1 green_door_1
drop green_ball_1 room_1
gotoobject green_door_1 room_1
gotoroom room_1 room_2 green_door_1
gotoobject purple_box_1 room_2
pick purple_box_1 room_2
gotoobject green_door_1 room_2
gotoroom room_2 room_1 green_door_1
gotoobject grey_ball_1 room_1
```