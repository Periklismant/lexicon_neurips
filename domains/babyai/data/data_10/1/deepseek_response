```
gotoempty
gotodoor red_door_1 room2 room1
toggle red_door_1
gotoroom room2 room1 red_door_1
gotoobject grey_ball_1 room1
pick grey_ball_1 room1
gotodoor green_door_1 room1 room3
toggle green_door_1
gotoroom room1 room3 green_door_1
gotoobject purple_ball_1 room3
gotoempty room3
gotodoor grey_door_1 room3 room4
toggle grey_door_1
gotoroom room3 room4 grey_door_1
drop grey_ball_1 room4
gotoempty room4
gotoroom room4 room3 grey_door_1
gotoroom room3 room1 green_door_1
gotoroom room1 room2 red_door_1
gotoobject blue_box_1 room2
pick blue_box_1 room2
gotodoor purple_door_1 room2 room4
toggle purple_door_1
gotoroom room2 room4 purple_door_1
drop blue_box_1 room4
gotoempty room4
gotoroom room4 room2 purple_door_1
toggle purple_door_1
gotoroom room2 room1 red_door_1
gotoroom room1 room3 green_door_1
gotodoor grey_door_1 room3 room4
toggle grey_door_1
gotoroom room3 room4 grey_door_1
gotoobject grey_ball_3 room4
pick grey_ball_3 room4
drop grey_ball_3 room4
```