```
gotoobject purple_ball_1 room_4
pick purple_ball_1 room_4
gotodoor purple_door_2 room_4 room_2
toggle purple_door_2
gotoroom room_4 room_2 purple_door_2
gotodoor purple_door_1 room_2 room_1
toggle purple_door_1
gotoroom room_2 room_1 purple_door_1
gotoempty
drop purple_ball_1 room_1
gotodoor purple_door_1 room_1 room_2
gotoroom room_1 room_2 purple_door_1
gotoobject blue_ball_1 room_2
pick blue_ball_1 room_2
gotodoor purple_door_1 room_2 room_1
gotoroom room_2 room_1 purple_door_1
gotoempty
drop blue_ball_1 room_1
gotoobject purple_ball_1 room_1
pick purple_ball_1 room_1
gotodoor purple_door_1 room_1 room_2
gotoroom room_1 room_2 purple_door_1
gotodoor purple_door_2 room_2 room_4
gotoroom room_2 room_4 purple_door_2
gotodoor blue_door_1 room_4 room_3
toggle blue_door_1
```